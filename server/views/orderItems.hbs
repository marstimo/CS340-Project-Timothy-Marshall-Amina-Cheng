<h1>Order Items</h1>

{{! READ table }}

<table>
    <thead>
        <tr>
            {{#each orderItems.[0]}}
            <th>{{@key}}</th>
            {{/each}}
            <th></th>
        </tr>
    </thead>

    <tbody>
        {{#each orderItems}}
        <tr>
            <td>{{this.[Order Item ID]}}</td>
            <td>{{this.[Order ID]}}</td>
            <td>{{this.[Product ID]}}</td>
            <td>{{this.[Unit Price]}}</td>
            <td>{{this.[Quantity]}}</td>
            <td>{{this.[Amount]}}</td>

            {{! DELETE form (UI only for Step 3) }}
            <td>
                <form id='delete_order_item_form' method='POST' action='/delete-order-item'>
                    <input type='hidden' name='delete_order_item_id' value='{{this.[Order Item ID]}}' />
                    <button type='submit'>Delete</button>
                </form>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>

{{! CREATE form (UI only for Step 3) }}

<h2>Add an Order Item</h2>
<form class='cuForm' id='create_order_item_form' method='POST' action='/create-order-item'>
    <label for='create_order_item_order_id'>Order:</label>
    <select name='create_order_item_order_id' id='create_order_item_order_id'>
        <option value='' disabled selected>Select an Order</option>
        {{#each orders}}
        <option value='{{this.orderID}}'>
            {{this.orderID}} - {{this.orderNumber}}
        </option>
        {{/each}}
    </select>

    <label for='create_order_item_product_id'>Product:</label>
    <select name='create_order_item_product_id' id='create_order_item_product_id'>
        <option value='' disabled selected>Select a Product</option>
        {{#each products}}
        <option value='{{this.[Product ID]}}'>
            {{this.[Product ID]}} - {{this.[Name]}}
        </option>
        {{/each}}
    </select>

    <label for='create_order_item_unit_price'>Unit Price:</label>
    <input type='number' step='0.01' min='0' name='create_order_item_unit_price' id='create_order_item_unit_price' />

    <label for='create_order_item_quantity'>Quantity:</label>
    <input type='number' min='1' name='create_order_item_quantity' id='create_order_item_quantity' />

    <label for='create_order_item_amount'>Amount:</label>
    <input type='number' step='0.01' min='0' name='create_order_item_amount' id='create_order_item_amount' />

    <input type='submit' value='Submit (not wired yet)' />
</form>

{{! UPDATE form (UI only for Step 3) }}

<h2>Update an Order Item</h2>
<form class='cuForm' id='update_order_item_form' method='POST' action='/update-order-item'>
    <label for='update_order_item_id'>Order Item to Update:</label>
    <select name='update_order_item_id' id='update_order_item_id'>
        <option value='' disabled selected>Select an Order Item</option>
        {{#each orderItems}}
        <option value='{{this.[Order Item ID]}}'>
            {{this.[Order Item ID]}} - Order {{this.[Order ID]}} / Product {{this.[Product ID]}}
        </option>
        {{/each}}
    </select>

    <label for='update_order_item_order_id'>Order:</label>
    <select name='update_order_item_order_id' id='update_order_item_order_id'>
        <option value='' disabled selected>Select an Order</option>
        {{#each orders}}
        <option value='{{this.orderID}}'>
            {{this.orderID}} - {{this.orderNumber}}
        </option>
        {{/each}}
    </select>

    <label for='update_order_item_product_id'>Product:</label>
    <select name='update_order_item_product_id' id='update_order_item_product_id'>
        <option value='' disabled selected>Select a Product</option>
        {{#each products}}
        <option value='{{this.[Product ID]}}'>
            {{this.[Product ID]}} - {{this.[Name]}}
        </option>
        {{/each}}
    </select>

    <label for='update_order_item_unit_price'>Unit Price:</label>
    <input type='number' step='0.01' min='0' name='update_order_item_unit_price' id='update_order_item_unit_price' />

    <label for='update_order_item_quantity'>Quantity:</label>
    <input type='number' min='1' name='update_order_item_quantity' id='update_order_item_quantity' />

    <label for='update_order_item_amount'>Amount:</label>
    <input type='number' step='0.01' min='0' name='update_order_item_amount' id='update_order_item_amount' />

    <input type='submit' value='Submit (not wired yet)' />
</form>